{% set pages = int(round(count / limit)) %}
{% set next = page + 1 if page < pages else None %}
{% set previous = page - 1 if page > 1 else None %}


{% if pages > 1 %}
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
          <li class="page-item {% if not previous %}disabled{% end %}">
              <a class="page-link" href="/analytics/dashboard/?page={{ previous }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
          </li>

          {% for page_num in range(1, pages) %}
            <li class="page-item {% if page_num == page %}active{% end %}"><a class="page-link" href="/analytics/dashboard/?page={{ page_num }}">{{ page_num }}</a></li>
          {% end %}

            <li class="page-item {% if not next %}disabled{% end %}">
                <a class="page-link" href="/analytics/dashboard/?page={{ next }}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
          {% if page_num != page %}
          <li class="page-item">
            <a class="page-link" href="/analytics/dashboard/?page={{ pages }}" aria-label="End">
                <span aria-hidden="true">End</span>
                <span class="sr-only">End</span>
            </a>
        </li>
          {% end %}
      </ul>
    </nav>
{% end %}